/**
 * Created by admin on 2017/7/17.
 */
var data = {"respStatus":{"statusCode":200,"statusDesc":"获取数据成功"},"respData":[{"id":4573,"appId":16,"parentId":0,"componentId":1,"componentName":"系统功能","componentType":"0","componentStatus":"1","children":[{"id":4574,"appId":16,"parentId":1,"componentId":2,"componentName":"系统管理","componentType":"1","componentStatus":"1","children":[{"id":4575,"appId":16,"parentId":2,"componentId":3,"componentName":"用户管理","componentType":"0","componentStatus":"1","children":[],"title":"用户管理"},{"id":4576,"appId":16,"parentId":2,"componentId":4,"componentName":"角色管理","componentType":"0","componentStatus":"1","children":[],"title":"角色管理"},{"id":4577,"appId":16,"parentId":2,"componentId":5,"componentName":"功能/菜单管理","componentType":"0","componentStatus":"1","children":[],"title":"功能/菜单管理"},{"id":4578,"appId":16,"parentId":2,"componentId":6,"componentName":"组织机构管理","componentType":"0","componentStatus":"1","children":[],"title":"组织机构管理"},{"id":4599,"appId":16,"parentId":2,"componentId":122,"componentName":"设备管理","componentType":"0","componentStatus":"1","children":[],"title":"设备管理"},{"id":4609,"appId":16,"parentId":2,"componentId":140,"componentName":"制定超时规则","componentType":"0","componentStatus":"1","children":[],"title":"制定超时规则"},{"id":4638,"appId":16,"parentId":2,"componentId":174,"componentName":"字典管理","componentType":"0","componentStatus":"1","children":[],"title":"字典管理"},{"id":4690,"appId":16,"parentId":2,"componentId":226,"componentName":"公告列表","componentType":"0","componentStatus":"1","children":[],"title":"公告列表"}],"title":"系统管理"},{"id":4579,"appId":16,"parentId":1,"componentId":8,"componentName":"医生工作站","componentType":"1","componentStatus":"1","children":[{"id":4580,"appId":16,"parentId":8,"componentId":9,"componentName":"我的病人","componentType":"0","componentStatus":"1","children":[{"id":4626,"appId":16,"parentId":9,"componentId":159,"componentName":"外照射处方","componentType":"0","componentStatus":"1","children":[],"title":"外照射处方"},{"id":4627,"appId":16,"parentId":9,"componentId":160,"componentName":"近距离照射处方","componentType":"0","componentStatus":"1","children":[],"title":"近距离照射处方"}],"title":"我的病人"},{"id":4600,"appId":16,"parentId":8,"componentId":126,"componentName":"管辖医生处方","componentType":"0","componentStatus":"1","children":[],"title":"管辖医生处方"},{"id":4605,"appId":16,"parentId":8,"componentId":132,"componentName":"病人查询","componentType":"0","componentStatus":"1","children":[],"title":"病人查询"},{"id":4620,"appId":16,"parentId":8,"componentId":153,"componentName":"全科模版","componentType":"0","componentStatus":"1","children":[],"title":"全科模版"}],"title":"医生工作站"},{"id":4583,"appId":16,"parentId":1,"componentId":17,"componentName":"划价室","componentType":"0","componentStatus":"1","children":[{"id":4584,"appId":16,"parentId":17,"componentId":19,"componentName":"附加划价","componentType":"0","componentStatus":"1","children":[],"title":"附加划价"}],"title":"划价室"},{"id":4585,"appId":16,"parentId":1,"componentId":20,"componentName":"模具室","componentType":"0","componentStatus":"1","children":[{"id":4613,"appId":16,"parentId":20,"componentId":145,"componentName":"模具排程","componentType":"0","componentStatus":"1","children":[],"title":"模具排程"},{"id":4617,"appId":16,"parentId":20,"componentId":149,"componentName":"排程历史","componentType":"0","componentStatus":"1","children":[],"title":"排程历史"}],"title":"模具室"},{"id":4586,"appId":16,"parentId":1,"componentId":23,"componentName":"CT技师工作站","componentType":"0","componentStatus":"1","children":[{"id":4587,"appId":16,"parentId":23,"componentId":24,"componentName":"CT关联","componentType":"0","componentStatus":"1","children":[],"title":"CT关联"},{"id":4618,"appId":16,"parentId":23,"componentId":150,"componentName":"CT排程","componentType":"0","componentStatus":"1","children":[],"title":"CT排程"},{"id":4619,"appId":16,"parentId":23,"componentId":151,"componentName":"排程历史","componentType":"0","componentStatus":"1","children":[],"title":"排程历史"}],"title":"CT技师工作站"},{"id":4588,"appId":16,"parentId":1,"componentId":26,"componentName":"剂量验证","componentType":"0","componentStatus":"1","children":[{"id":4589,"appId":16,"parentId":26,"componentId":27,"componentName":"待办任务","componentType":"0","componentStatus":"1","children":[],"title":"待办任务"},{"id":4596,"appId":16,"parentId":26,"componentId":114,"componentName":"历史记录","componentType":"0","componentStatus":"1","children":[],"title":"历史记录"}],"title":"剂量验证"},{"id":4590,"appId":16,"parentId":1,"componentId":29,"componentName":"治疗技师","componentType":"0","componentStatus":"1","children":[{"id":4591,"appId":16,"parentId":29,"componentId":30,"componentName":"待办列表","componentType":"0","componentStatus":"1","children":[],"title":"待办列表"},{"id":4592,"appId":16,"parentId":29,"componentId":31,"componentName":"历史记录","componentType":"0","componentStatus":"1","children":[],"title":"历史记录"}],"title":"治疗技师"},{"id":4593,"appId":16,"parentId":1,"componentId":111,"componentName":"任务列表","componentType":"0","componentStatus":"1","children":[{"id":4611,"appId":16,"parentId":111,"componentId":142,"componentName":"待办任务","componentType":"0","componentStatus":"1","children":[],"title":"待办任务"},{"id":4612,"appId":16,"parentId":111,"componentId":143,"componentName":"历史记录","componentType":"0","componentStatus":"1","children":[],"title":"历史记录"}],"title":"任务列表"},{"id":4594,"appId":16,"parentId":1,"componentId":112,"componentName":"个人设置","componentType":"0","componentStatus":"1","children":[],"title":"个人设置"},{"id":4595,"appId":16,"parentId":1,"componentId":113,"componentName":"人员管理","componentType":"0","componentStatus":"1","children":[{"id":4581,"appId":16,"parentId":113,"componentId":15,"componentName":"入院管理","componentType":"0","componentStatus":"1","children":[],"title":"入院管理"},{"id":4582,"appId":16,"parentId":113,"componentId":16,"componentName":"病房管理","componentType":"0","componentStatus":"1","children":[],"title":"病房管理"},{"id":4651,"appId":16,"parentId":113,"componentId":187,"componentName":"病区管理","componentType":"0","componentStatus":"1","children":[],"title":"病区管理"}],"title":"人员管理"},{"id":4597,"appId":16,"parentId":1,"componentId":118,"componentName":"viewer","componentType":"0","componentStatus":"1","children":[{"id":4598,"appId":16,"parentId":118,"componentId":119,"componentName":"病人列表","componentType":"0","componentStatus":"1","children":[],"title":"病人列表"}],"title":"viewer"},{"id":4601,"appId":16,"parentId":1,"componentId":127,"componentName":"后装室","componentType":"0","componentStatus":"1","children":[{"id":4602,"appId":16,"parentId":127,"componentId":128,"componentName":"后装排程","componentType":"0","componentStatus":"1","children":[{"id":4661,"appId":16,"parentId":128,"componentId":197,"componentName":"功能权限","componentType":"0","componentStatus":"1","children":[{"id":4652,"appId":16,"parentId":197,"componentId":188,"componentName":"编辑","componentType":"0","componentStatus":"1","children":[],"title":"编辑"},{"id":4653,"appId":16,"parentId":197,"componentId":189,"componentName":"放弃排程","componentType":"0","componentStatus":"1","children":[],"title":"放弃排程"},{"id":4654,"appId":16,"parentId":197,"componentId":190,"componentName":"删除","componentType":"0","componentStatus":"1","children":[],"title":"删除"},{"id":4655,"appId":16,"parentId":197,"componentId":191,"componentName":"完成治疗","componentType":"0","componentStatus":"1","children":[],"title":"完成治疗"}],"title":"功能权限"},{"id":4662,"appId":16,"parentId":128,"componentId":198,"componentName":"数据权限","componentType":"0","componentStatus":"1","children":[{"id":4629,"appId":16,"parentId":198,"componentId":165,"componentName":"个人数据权限","componentType":"0","componentStatus":"1","children":[{"id":4631,"appId":16,"parentId":165,"componentId":167,"componentName":"星期一早上操作权限","componentType":"0","componentStatus":"1","children":[],"title":"星期一早上操作权限"},{"id":4632,"appId":16,"parentId":165,"componentId":168,"componentName":"星期二早上操作权限","componentType":"0","componentStatus":"1","children":[],"title":"星期二早上操作权限"},{"id":4633,"appId":16,"parentId":165,"componentId":169,"componentName":"星期三早上操作权限","componentType":"0","componentStatus":"1","children":[],"title":"星期三早上操作权限"},{"id":4634,"appId":16,"parentId":165,"componentId":170,"componentName":"星期四早上操作权限","componentType":"0","componentStatus":"1","children":[],"title":"星期四早上操作权限"},{"id":4635,"appId":16,"parentId":165,"componentId":171,"componentName":"星期五早上操作权限","componentType":"0","componentStatus":"1","children":[],"title":"星期五早上操作权限"},{"id":4636,"appId":16,"parentId":165,"componentId":172,"componentName":"星期六早上操作权限","componentType":"0","componentStatus":"1","children":[],"title":"星期六早上操作权限"},{"id":4637,"appId":16,"parentId":165,"componentId":173,"componentName":"星期天早上操作权限","componentType":"0","componentStatus":"1","children":[],"title":"星期天早上操作权限"},{"id":4639,"appId":16,"parentId":165,"componentId":175,"componentName":"星期一下午操作权限","componentType":"0","componentStatus":"1","children":[],"title":"星期一下午操作权限"},{"id":4640,"appId":16,"parentId":165,"componentId":176,"componentName":"星期二下午操作权限","componentType":"0","componentStatus":"1","children":[],"title":"星期二下午操作权限"},{"id":4641,"appId":16,"parentId":165,"componentId":177,"componentName":"星期三下午操作权限","componentType":"0","componentStatus":"1","children":[],"title":"星期三下午操作权限"},{"id":4642,"appId":16,"parentId":165,"componentId":178,"componentName":"星期四下午操作权限","componentType":"0","componentStatus":"1","children":[],"title":"星期四下午操作权限"},{"id":4643,"appId":16,"parentId":165,"componentId":179,"componentName":"星期五下午操作权限","componentType":"0","componentStatus":"1","children":[],"title":"星期五下午操作权限"},{"id":4644,"appId":16,"parentId":165,"componentId":180,"componentName":"星期六下午操作权限","componentType":"0","componentStatus":"1","children":[],"title":"星期六下午操作权限"},{"id":4645,"appId":16,"parentId":165,"componentId":181,"componentName":"星期天下午操作权限","componentType":"0","componentStatus":"1","children":[],"title":"星期天下午操作权限"},{"id":4669,"appId":16,"parentId":165,"componentId":205,"componentName":"查看详情","componentType":"0","componentStatus":"1","children":[],"title":"查看详情"},{"id":4670,"appId":16,"parentId":165,"componentId":206,"componentName":"排程拖动","componentType":"0","componentStatus":"1","children":[],"title":"排程拖动"}],"title":"个人数据权限"},{"id":4663,"appId":16,"parentId":198,"componentId":199,"componentName":"所有数据权限","componentType":"0","componentStatus":"1","children":[{"id":4671,"appId":16,"parentId":199,"componentId":207,"componentName":"星期一早上操作权限","componentType":"0","componentStatus":"1","children":[],"title":"星期一早上操作权限"},{"id":4672,"appId":16,"parentId":199,"componentId":208,"componentName":"星期二早上操作权限","componentType":"0","componentStatus":"1","children":[],"title":"星期二早上操作权限"},{"id":4673,"appId":16,"parentId":199,"componentId":209,"componentName":"星期三早上操作权限","componentType":"0","componentStatus":"1","children":[],"title":"星期三早上操作权限"},{"id":4674,"appId":16,"parentId":199,"componentId":210,"componentName":"星期四早上操作权限","componentType":"0","componentStatus":"1","children":[],"title":"星期四早上操作权限"},{"id":4675,"appId":16,"parentId":199,"componentId":211,"componentName":"星期五早上操作权限","componentType":"0","componentStatus":"1","children":[],"title":"星期五早上操作权限"},{"id":4676,"appId":16,"parentId":199,"componentId":212,"componentName":"星期六早上操作权限","componentType":"0","componentStatus":"1","children":[],"title":"星期六早上操作权限"},{"id":4677,"appId":16,"parentId":199,"componentId":213,"componentName":"星期天早上操作权限","componentType":"0","componentStatus":"1","children":[],"title":"星期天早上操作权限"},{"id":4678,"appId":16,"parentId":199,"componentId":214,"componentName":"星期一下午操作权限","componentType":"0","componentStatus":"1","children":[],"title":"星期一下午操作权限"},{"id":4679,"appId":16,"parentId":199,"componentId":215,"componentName":"星期二下午操作权限","componentType":"0","componentStatus":"1","children":[],"title":"星期二下午操作权限"},{"id":4680,"appId":16,"parentId":199,"componentId":216,"componentName":"星期三下午操作权限","componentType":"0","componentStatus":"1","children":[],"title":"星期三下午操作权限"},{"id":4681,"appId":16,"parentId":199,"componentId":217,"componentName":"星期四下午操作权限","componentType":"0","componentStatus":"1","children":[],"title":"星期四下午操作权限"},{"id":4682,"appId":16,"parentId":199,"componentId":218,"componentName":"星期五下午操作权限","componentType":"0","componentStatus":"1","children":[],"title":"星期五下午操作权限"},{"id":4683,"appId":16,"parentId":199,"componentId":219,"componentName":"星期六下午操作权限","componentType":"0","componentStatus":"1","children":[],"title":"星期六下午操作权限"},{"id":4684,"appId":16,"parentId":199,"componentId":220,"componentName":"星期天下午操作权限","componentType":"0","componentStatus":"1","children":[],"title":"星期天下午操作权限"},{"id":4685,"appId":16,"parentId":199,"componentId":221,"componentName":"查看详情","componentType":"0","componentStatus":"1","children":[],"title":"查看详情"},{"id":4686,"appId":16,"parentId":199,"componentId":222,"componentName":"排程拖动","componentType":"0","componentStatus":"1","children":[],"title":"排程拖动"}],"title":"所有数据权限"}],"title":"数据权限"}],"title":"后装排程"},{"id":4606,"appId":16,"parentId":127,"componentId":133,"componentName":"后装处方","componentType":"0","componentStatus":"1","children":[{"id":4659,"appId":16,"parentId":133,"componentId":195,"componentName":"数据权限","componentType":"0","componentStatus":"1","children":[{"id":4628,"appId":16,"parentId":195,"componentId":163,"componentName":"所有数据权限","componentType":"0","componentStatus":"1","children":[],"title":"所有数据权限"},{"id":4630,"appId":16,"parentId":195,"componentId":166,"componentName":"个人数据权限","componentType":"0","componentStatus":"1","children":[],"title":"个人数据权限"}],"title":"数据权限"},{"id":4660,"appId":16,"parentId":133,"componentId":196,"componentName":"功能权限","componentType":"0","componentStatus":"1","children":[{"id":4664,"appId":16,"parentId":196,"componentId":200,"componentName":"放弃","componentType":"0","componentStatus":"1","children":[],"title":"放弃"},{"id":4665,"appId":16,"parentId":196,"componentId":201,"componentName":"暂停","componentType":"0","componentStatus":"1","children":[],"title":"暂停"},{"id":4666,"appId":16,"parentId":196,"componentId":202,"componentName":"恢复","componentType":"0","componentStatus":"1","children":[],"title":"恢复"},{"id":4667,"appId":16,"parentId":196,"componentId":203,"componentName":"编辑","componentType":"0","componentStatus":"1","children":[],"title":"编辑"},{"id":4668,"appId":16,"parentId":196,"componentId":204,"componentName":"打印","componentType":"0","componentStatus":"1","children":[],"title":"打印"},{"id":4687,"appId":16,"parentId":196,"componentId":223,"componentName":"详情","componentType":"0","componentStatus":"1","children":[],"title":"详情"},{"id":4688,"appId":16,"parentId":196,"componentId":224,"componentName":"急诊","componentType":"0","componentStatus":"1","children":[],"title":"急诊"}],"title":"功能权限"}],"title":"后装处方"},{"id":4607,"appId":16,"parentId":127,"componentId":134,"componentName":"后装排程历史","componentType":"0","componentStatus":"1","children":[],"title":"后装排程历史"},{"id":4616,"appId":16,"parentId":127,"componentId":148,"componentName":"排程设置","componentType":"0","componentStatus":"1","children":[],"title":"排程设置"},{"id":4689,"appId":16,"parentId":127,"componentId":225,"componentName":"排程量设置","componentType":"0","componentStatus":"1","children":[],"title":"排程量设置"}],"title":"后装室"},{"id":4603,"appId":16,"parentId":1,"componentId":129,"componentName":"统计","componentType":"0","componentStatus":"1","children":[{"id":4604,"appId":16,"parentId":129,"componentId":131,"componentName":"运营罗盘","componentType":"0","componentStatus":"1","children":[],"title":"运营罗盘"},{"id":4608,"appId":16,"parentId":129,"componentId":136,"componentName":"个人统计","componentType":"0","componentStatus":"1","children":[],"title":"个人统计"},{"id":4610,"appId":16,"parentId":129,"componentId":141,"componentName":"部门罗盘","componentType":"0","componentStatus":"1","children":[],"title":"部门罗盘"}],"title":"统计"},{"id":4614,"appId":16,"parentId":1,"componentId":146,"componentName":"CT排程","componentType":"0","componentStatus":"1","children":[{"id":4615,"appId":16,"parentId":146,"componentId":147,"componentName":"排程","componentType":"0","componentStatus":"1","children":[],"title":"排程"}],"title":"CT排程"},{"id":4621,"appId":16,"parentId":1,"componentId":154,"componentName":"医护管理","componentType":"0","componentStatus":"1","children":[{"id":4646,"appId":16,"parentId":154,"componentId":182,"componentName":"添加","componentType":"0","componentStatus":"1","children":[],"title":"添加"},{"id":4647,"appId":16,"parentId":154,"componentId":183,"componentName":"编辑","componentType":"0","componentStatus":"1","children":[],"title":"编辑"},{"id":4648,"appId":16,"parentId":154,"componentId":184,"componentName":"启用","componentType":"0","componentStatus":"1","children":[],"title":"启用"},{"id":4649,"appId":16,"parentId":154,"componentId":185,"componentName":"停用","componentType":"0","componentStatus":"1","children":[],"title":"停用"},{"id":4650,"appId":16,"parentId":154,"componentId":186,"componentName":"离职","componentType":"0","componentStatus":"1","children":[],"title":"离职"},{"id":4695,"appId":16,"parentId":154,"componentId":21837,"componentName":"分配设备","componentType":"0","componentStatus":"1","children":[],"title":"分配设备"}],"title":"医护管理"},{"id":4622,"appId":16,"parentId":1,"componentId":155,"componentName":"模版管理","componentType":"0","componentStatus":"1","children":[{"id":4623,"appId":16,"parentId":155,"componentId":156,"componentName":"处方模版","componentType":"0","componentStatus":"1","children":[],"title":"处方模版"},{"id":4624,"appId":16,"parentId":155,"componentId":157,"componentName":"CT模版","componentType":"0","componentStatus":"1","children":[],"title":"CT模版"},{"id":4625,"appId":16,"parentId":155,"componentId":158,"componentName":"勾靶模版","componentType":"0","componentStatus":"1","children":[],"title":"勾靶模版"}],"title":"模版管理"},{"id":4656,"appId":16,"parentId":1,"componentId":192,"componentName":"反馈","componentType":"0","componentStatus":"1","children":[{"id":4657,"appId":16,"parentId":192,"componentId":193,"componentName":"反馈回复","componentType":"0","componentStatus":"1","children":[],"title":"反馈回复"},{"id":4658,"appId":16,"parentId":192,"componentId":194,"componentName":"反馈列表","componentType":"0","componentStatus":"1","children":[],"title":"反馈列表"}],"title":"反馈"},{"id":4691,"appId":16,"parentId":1,"componentId":21833,"componentName":"培训帮助","componentType":"0","componentStatus":"1","children":[{"id":4692,"appId":16,"parentId":21833,"componentId":21834,"componentName":"培训视频管理","componentType":"0","componentStatus":"1","children":[],"title":"培训视频管理"},{"id":4693,"appId":16,"parentId":21833,"componentId":21835,"componentName":"使用帮助","componentType":"0","componentStatus":"1","children":[],"title":"使用帮助"},{"id":4694,"appId":16,"parentId":21833,"componentId":21836,"componentName":"视频播放","componentType":"0","componentStatus":"1","children":[],"title":"视频播放"}],"title":"培训帮助"}],"title":"系统功能"}]}

//setDisabled(data.respData[0]);
//console.log(data.respData[0])
function setDisabled(data) {
    if(data.componentType==1){
        if(data.children.length){
            setChildrenDiabled(data);
        }
        data.checkbox = false;
    } else if(data.children.length&& data.componentType==0){
        data.children.forEach(function (value) {
            setDisabled(value);
        })
    }else{
        return;
    }


}

//递归实现
var parseTreeJson = function(treeNodes){
    if (!treeNodes || !treeNodes.length) return;

    for (var i = 0, len = treeNodes.length; i < len; i++) {

        var childs = treeNodes[i].children;

        console.log(treeNodes[i].id);

        if(childs && childs.length > 0){
            parseTreeJson(childs);
        }
    }
};

console.log('------------- 递归实现 ------------------');
//parseTreeJson(data.respData[0].children);
//console.log(data.respData[0])
//非递归广度优先实现
var iterator1 = function (treeNodes) {
    if (!treeNodes || !treeNodes.length) return;

    var stack = [];

    //先将第一层节点放入栈
    for (var i = 0, len = treeNodes.length; i < len; i++) {
        stack.push(treeNodes[i]);
    }

    var item;

    while (stack.length) {
        item = stack.shift();
        if(item.componentType == 1){
            item.disabled = true;
            setChildrenDiabled(item)
        }

        //如果该节点有子节点，继续添加进入栈底
        if (item.children && item.children.length && item.componentType == 0) {

            stack = stack.concat(item.children);
        }
    }
};

console.log('------------- 非递归广度优先实现 ------------------');
//iterator1(data.respData[0].children);
//console.log(data.respData[0])
//非递归深度优先实现
var iterator2 = function (treeNodes) {
    if (!treeNodes || !treeNodes.length) return;

    var stack = [];

    //先将第一层节点放入栈
    for (var i = 0, len = treeNodes.length; i < len; i++) {
        stack.push(treeNodes[i]);
    }

    var item;

    while (stack.length) {
        item = stack.shift();

        if(item.componentType == 1){
            item.disabled = true;
            setChildrenDiabled(item)
        }

        //如果该节点有子节点，继续添加进入栈顶
        if (item.children && item.children.length&& item.componentType == 0) {
            stack = item.children.concat(stack);
        }
    }
};

console.log('------------- 非递归深度优先实现 ------------------');
iterator2(data.respData[0].children);
console.log(data.respData[0])

function setChildrenDiabled(data){
    if(data.children.length){
        data.children.forEach(function (value) {
            setChildrenDiabled(value)
            value.disabled =true
        })
    }else
        return
}